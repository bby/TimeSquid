package com.label.arduino{	import flash.display.MovieClip;	import flash.text.TextField;		import com.label.arduino.sensor.SensorEvent;	import flash.events.MouseEvent;	import com.label.arduino.sensor.FlexSensor;	import flash.events.TextEvent;	import flash.events.Event;		public class Calibrator extends MovieClip	{		public var okButton:MovieClip;		public var recalibButton:MovieClip;		public var currentVal:TextField;		public var calibratedVal:TextField;		public var minVal:TextField;		public var maxVal:TextField;		public var modMinVal:TextField;		public var modMaxVal:TextField;				var _min:int;		var _max:int;		var _sensor:FlexSensor;				public function Calibrator(theSensor:FlexSensor)		{			trace("New VCalibrator");			okButton.buttonText.text = "OK";			this._sensor = theSensor;						_min = _sensor.min;			_max = _sensor.max;						minVal.text = _sensor.min;			maxVal.text = _sensor.max;						recalibButton.addEventListener(MouseEvent.CLICK, calibrateSensor);			okButton.addEventListener(MouseEvent.CLICK, closeEvent);					}				public function sensorEvent(e:SensorEvent):void		{						if (e.originalVal < _min)			{				_min = e.originalVal;			}			if (e.originalVal > _max)			{				_max = e.originalVal;			}			currentVal.text = e.originalVal;			calibratedVal.text = e.val;			minVal.text = _min;			maxVal.text = _max;		}				protected function calibrateSensor(e:MouseEvent):void		{			_sensor.setCalibration(_min+int(modMinVal.text), _max-int(modMaxVal.text));		}				protected function closeEvent(e:MouseEvent):void		{			trace("CLOSE");			dispatchEvent(new Event(Event.CLOSE, true, true));		}				public function get sensor():FlexSensor 		{			return _sensor;		}	}}